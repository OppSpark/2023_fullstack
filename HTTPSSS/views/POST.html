<html>
    <head>
        <meta charset="utf-8">
        <link rel="stylesheet" href="css/HTML_HW.css" type="text/css"><!-- CSS 불러오기 -->
        <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script> <!-- fontawesome 에서 CDN 로 가져온 스크립트 -->
        <script src="//code.jquery.com/jquery-1.11.0.min.js"></script> <!-- 해더 include JS -->
        <script type="text/javascript">   
        $(document).ready( function() {
          $("#headers").load("header.html"); 
        });
        </script>
    </head>
    <body>
        <div id="headers"></div> <!-- 해더 불러오기 -->

        <section id="post_text">  <!-- NEW POST 와 검색창 구현 코드 -->
            <div id="scbox">
                <p><a id="NT" href="/new_post" target="_self" style="text-decoration:none; color: #000000;">글 작성하기!</a></p> <!-- 뉴 포스트 -->
                <div id="searchbox">
                    <input type="text" placeholder="Search"> <!-- 검색창과 검색 버튼 -->
                    <button>검색</button> 
                </div>
            </div>
            <div id="postbox_in"></div>
        </section>

        <script>
            fetch('/api/post')
                .then(response => response.json())
                .then(data => {
                    let post_box = document.getElementById('postbox_in');
                    data.forEach(post => {
                        let post_title = post.post_title;
                        let post_content = post.post_content;
                        let html = `
                            <div class="postbox">
                                <div class="title">${post_title}</div>
                                <hr />
                                <div class="cont">${post_content}</div>
                                <hr />
                                <div align="right">
                                    <i class="fas fa-heart"></i>
                                </div>
                            </div>
                        `;
                        post_box.innerHTML += html;
                    });
                })
                .catch((error) => {
                    console.error(error);
                });
        </script>
    </body>
</html>
위 코드는 /api/post에서 받아온 게시글 데이터를 출력하는 코드입니다. 해더를 불러오는 script 태그 앞부분은 fontawesome을 CDN에서 가져와 사용할 수 있도록 추가했습니다. 그리고 ajax 요청을 하는 script 태그에서는 /api/post로 요청을 보내고 받아온 데이터를 forEach으로 순회하며, 하나의 게시글 별로 HTML 요소를 동적으로 추가합니다. 따라서 게시글이 여러개인 경우에도 이에 맞게 HTML 요소가 구성됩니다.



백엔드에서 값을 받을 때 results 로 받지 않나?
박준규의 어시스턴트
GPT3.5
네, 맞습니다. 일반적으로 API를 통해 백엔드에서 데이터를 받을 때는 results라는 키를 가진 배열 형태로 데이터를 받아옵니다. 따라서 해당 코드에서도 response.json()을 통해 반환되는 데이터는 results라는 키를 가진 배열 형태로 받아와야 합니다. 아래는 수정된 코드입니다.
html
<html>
    <head>
        <meta charset="utf-8">
        <link rel="stylesheet" href="css/HTML_HW.css" type="text/css"><!-- CSS 불러오기 -->
        <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script> <!-- fontawesome 에서 CDN 로 가져온 스크립트 -->
        <script src="//code.jquery.com/jquery-1.11.0.min.js"></script> <!-- 해더 include JS -->
        <script type="text/javascript">   
        $(document).ready( function() {
          $("#headers").load("header.html"); 
        });
        </script>
    </head>
    <body>
        <div id="headers"></div> <!-- 해더 불러오기 -->

        <section id="post_text">  <!-- NEW POST 와 검색창 구현 코드 -->
            <div id="scbox">
                <p><a id="NT" href="/new_post" target="_self" style="text-decoration:none; color: #000000;">글 작성하기!</a></p> <!-- 뉴 포스트 -->
                <div id="searchbox">
                    <input type="text" placeholder="Search"> <!-- 검색창과 검색 버튼 -->
                    <button>검색</button> 
                </div>
            </div>
            <div id="postbox_in"></div>
        </section>

        <script>
            fetch('/api/post')
                .then(response => response.json())
                .then(data => {
                    let post_box = document.getElementById('postbox_in');
                    data.results.forEach(post => { // 수정된 부분
                        let post_title = post.post_title;
                        let post_content = post.post_content;
                        let html = `
                            <div class="postbox">
                                <div class="title">${post_title}</div>
                                <hr />
                                <div class="cont">${post_content}</div>
                                <hr />
                                <div align="right">
                                    <i class="fas fa-heart"></i>
                                </div>
                            </div>
                        `;
                        post_box.innerHTML += html;
                    });
                })
                .catch((error) => {
                    console.error(error);
                });
        </script>
    </body>
</html>